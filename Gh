Approach 1: Iterative Contextual Evaluation (Sliding Window)
Instead of sending all input-output pairs at once, process them sequentially while retaining context.

Steps:
Process Turn-by-Turn

For each (input_i, output_i), call the subjective evaluation prompt.
Append the evaluation results as context for the next turn.
Sliding Window for Context Awareness

Instead of sending the entire history, send a subset of previous turns (last k turns).
This ensures evaluation remains context-aware without exceeding API limits.
Final Aggregation & Scoring

Once all turns are evaluated, pass the aggregated subjective evaluations to the scoring prompt.
The scoring prompt can then consider overall coherence, consistency, and logical flow across turns.
Example Flow:
sql
Copy
Edit
For each turn i:
  - Call Subjective Evaluation Prompt with (Input_i, Output_i, Context from previous k turns)
  - Store the subjective evaluation result

After all turns:
  - Call Scoring Prompt with the collected evaluations
  - Generate the final score for the entire sequence
âœ… Pros:

Reduces API payload per call.
Keeps evaluations context-aware.
Works even for long conversations.
Approach 2: Batch Processing with Progressive Summarization
Break the conversation into smaller batches (e.g., 3-5 turns per batch).
Evaluate each batch independently using the subjective evaluation prompt.
Summarize the evaluations and pass them into a higher-level scoring prompt.
